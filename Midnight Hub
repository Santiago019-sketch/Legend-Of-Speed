-- Ensure the library is loaded correctly
local success, Library = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Chaosscripter/Riotscripter/refs/heads/main/Kavo%20Library%202"))()
end)

if not success or not Library then
    warn("Failed to load Kavo Library.")
    return
end

-- Create the GUI window
local Window = Library.CreateLib("Farming GUI", "Ocean")
if not Window then
    warn("Failed to create GUI window.")
    return
end

-- Create main tab
local MainTab = Window:NewTab("Farming")
local FarmingSection = MainTab:NewSection("Orb Farming")

-- Toggle Variables
local YellowOrbEnabled = false
local RedOrbEnabled = false

-- Yellow Orb Farm Toggle
FarmingSection:NewToggle("Yellow Orb Farm", "Farms Yellow Orbs in City", function(state)
    YellowOrbEnabled = state
    spawn(function()
        while YellowOrbEnabled do
            for i = 1, 15 do
                local success, err = pcall(function()
                    game:GetService('ReplicatedStorage').rEvents.orbEvent:FireServer("collectOrb", "Yellow Orb", "City")
                end)
                if not success then
                    warn("Error firing event for Yellow Orb: " .. err)
                end
            end
            wait()
        end
    end)
end)

-- Red Desert Orb Farm Toggle
FarmingSection:NewToggle("Red Desert Orb Farm", "Farms Red Orbs in Desert", function(state)
    RedOrbEnabled = state
    spawn(function()
        while RedOrbEnabled do
            for i = 1, 7 do
                local success, err = pcall(function()
                    game:GetService('ReplicatedStorage').rEvents.orbEvent:FireServer("collectOrb", "Red Orb", "Desert")
                end)
                if not success then
                    warn("Error firing event for Red Orb: " .. err)
                end
            end
            wait()
        end
    end)
end)

-- Steps Farm Button
FarmingSection:NewButton("Farm Steps (7500x)", "Collects 7500 Red Orbs in City", function()
    for i = 1, 7500 do
        local success, err = pcall(function()
            game:GetService("ReplicatedStorage").rEvents.orbEvent:FireServer("collectOrb", "Red Orb", "City")
        end)
        if not success then
            warn("Error firing event for Red Orb (7500x): " .. err)
        end
    end
end)

-- Gems Farm Button
FarmingSection:NewButton("Farm Gems (1000x)", "Collects 1000 Gems in City", function()
    for i = 1, 1000 do
        local success, err = pcall(function()
            game:GetService("ReplicatedStorage").rEvents.orbEvent:FireServer("collectOrb", "Gem", "City")
        end)
        if not success then
            warn("Error firing event for Gem: " .. err)
        end
    end
end)
